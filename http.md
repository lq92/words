## HTTP
### TCP/IP协议族
    TCP/IP协议族按层次可以分为：应用层、传输层、网络层和数据链路层
      * 应用层——决定了向用户提供应用服务时通信的活动(FTP/DNS/HTTP)
      * 传输层——对上层应用层，提供处于网络连接中两台计算机之间的数据传输(TCP传输控制协议，UDP用户数据报协议)
      * 网络层——数据包是网络传输的最小单位，网络层用来处理网络上流动的数据包，该层规定了通过怎样的路径到达对方计算机，并将数据包传递给对方，与对方计算机之间通过多台计算机或网络设备进行传输时，网络层所起的作用就是在众多选项内选择一条传输路线
      * 数据链路层——用来处理连接网络的硬件部分，包含操作系统、硬件的设备驱动、网卡、光纤等物理可见部分
    在用TCP/IP协议族进行网络通信时，客户端从应用层往下走，服务器端从数据链路层往上走
    举例：首先作为发送端的客户端在应用层(HTTP协议)发出一个想看某个web页面的HTTP请求；接着为了传输方便，在传输层(TCP协议)把从应用层接收到的数据(HTTP请求报文)进行分割，并在报文上打上标记序号及端口号后转发给网络层；在网络层(IP协议)，增加作为通信目的地的MAC地址后转发给链路层，这样发往网络的通信请求就准备齐全了；服务器在链路层接收到数据，按顺序向上发送，一直到应用层，当到达应用层，才算真正接收由客户端发过来的HTTP请求 
### 确保可靠性的TCP协议
    TCP位于传输层，提供可靠的字节流服务(为了方便传输，将大块数据分割成以报文段为单位的数据包进行管理)，而可靠的传输服务是指，能够把数据准确可靠的传递给对方。总结起来，TCP协议为了能够传递大块数据所以把数据分割，而且会确认数据最终是否送达到对方
    TCP的三次握手：发送端首先会发送一个带SYN标志的数据包给对方，接收端接收后，回传一个带有SYN/ACK标志的数据包以示传达确认信息，最后发送方再回传一个带有ACK标志的数据包，代表结束。
### DNS——应用层协议
    用于域名到ip地址间的解析服务
### URI——统一资源标识符
    URI用字符串标识某一互联网资源，而URL表示资源的地点(互联网上所处的位置),URL是URI的子集
    URI格式：http://username:password@www.example.com:80/dir/index.html?uid=1#hash
### HTTP协议
    http协议规定：请求从客户端发出，服务器端接收响应并返回，请求都是从客户端开始建立通信，服务器端在没收到请求不会发送响应
        * 请求报文构成——请求的方法、请求的URI、HTTP版本号、可选的请求首部字段和内容实体构成
            ```
                POST / HTTP/1.1      // 方法、URI、HTTP协议
                // 请求首部字段
                Host: www.baidu.com
                Connection: keep-alive
                Content-Type: application/x-www-form-urlencoded
                Content-Length: 16
                // 内容实体
                name=ueno&age=37
            ```
        * 响应报文——由HTTP版本、处理请求的状态码和原因短语、响应的日期时间、资源实体的主体
            ```
                HTTP/1.1 200 OK
                // 响应首部字段
                Date: Tue, 10 jul 2018 08:00:00 GMT
                Content-Length: 362
                Content-Type: text/html

                // 资源实体
                <html>
                .....
            ```
    http协议是无状态的协议，自身不对请求和响应之间的通信状态进行保存，协议对于发送过的请求或响应都不做持久化处理，但是为了实现保持状态功能，于是引入了Cookie技术，再加上HTTP协议通信，就可以管理状态了
    HEAD方法——和GET方法一样，只是不返回报文主体部分
    OPTIONS方法——用来查询针对请求URI指定的资源支持的方法
    持久链接——当请求一个HTML页面的同时也会请求该HTML页面里包含的其他资源，因此每次请求都会导致无谓的TCP连接建立和断开，增加通信量的开销，持久连接的特点是只要任意一端没有明确提出断开连接，则保持TCP连接状态
    Cookie——会根据从服务器端发送的响应报文内的一个叫Set-Cookie的首部字段信息，通知客户端保存Cookie，当下次客户端再往该服务器发送请求时，客户端会自动在请求报文中加入Cookie值后发送，服务器发现客户端发送过来的Cookie后，会检查究竟是从哪一个客户端发来的连接请求，然后对比服务器上的记录，最后得到之前的状态信息
        ```
            // 请求报文，没有Cookie信息
            GET / HTTP/1.1
            Host: www.taobao.com
            // 响应报文，SetCookie
            HTTP/1.1 200 OK
            Date: 
            Server: Apache
            <Set-Cookie: sid=1342077170226724; path=/; expires=Wed, 10-Oct-12 08:00:00 CMT>
            Content-Type: text/plain; charset=UTF-8
            // 请求报文(自动发送保存着的Cookie信息)
            GET / HTTP/1.1
            Host: www.taobao.com
            Cookie: sid=1342077170226724
        ```
### HTTP报文
    用于HTTP协议交互的信息被称为HTTP报文，客户端的HTTP报文叫请求报文，服务器端的叫响应报文。HTTP报文本身由多行(用CR+LF作换行符)数据构成的字符串文本。
    HTTP报文可分为报文首部和报文主体两部分
    报文首部：请求首部字段、响应首部字段、通用首部字段、实体首部字段
